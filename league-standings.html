<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football League Table</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .container {
            max-width: 1000px;
            margin: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            text-align: center;
            padding: 8px;
        }
        th {
            background-color: #f4f4f4;
        }
        .header, .add-team-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .back-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        .back-button:hover {
            background-color: #0056b3;
        }
        select, input[type="text"], input[type="number"] {
            padding: 5px;
            font-size: 16px;
            margin-right: 10px;
        }
        .add-team-section input[type="number"] {
            width: 60px;
        }
        .add-team-button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
        .add-team-button:hover {
            background-color: #218838;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Football League Table</h1>
            <select id="leagueSelector" onchange="switchLeague()">
                <option value="premier-league">Premier League</option>
                <option value="la-liga">La Liga</option>
                <option value="serie-a">Serie A</option>
                <option value="bundesliga">Bundesliga</option>
                <option value="ligue-1">Ligue 1</option>
            </select>
        </div>
        <div class="add-team-section">
            <input type="text" id="newTeamName" placeholder="Team Name">
            <input type="number" id="newTeamWins" placeholder="Wins" min="0">
            <input type="number" id="newTeamDraws" placeholder="Draws" min="0">
            <input type="number" id="newTeamLosses" placeholder="Losses" min="0">
            <input type="number" id="newTeamGF" placeholder="Goals For" min="0">
            <input type="number" id="newTeamGA" placeholder="Goals Against" min="0">
            <button class="add-team-button" onclick="addTeam()">Add Team</button>
        </div>
        <table id="leagueTable">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Team</th>
                    <th>Played</th>
                    <th>Wins</th>
                    <th>Draws</th>
                    <th>Losses</th>
                    <th>Points</th>
                    <th>GF</th>
                    <th>GA</th>
                    <th>GD</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be populated dynamically -->
            </tbody>
        </table>
    </div>
    <button class="back-button" onclick="goBack()">Back to Index</button>
    <script>
        const leagues = {
            "premier-league": [
                { team: "Manchester City", wins: 20, draws: 5, losses: 3, gf: 65, ga: 25 },
                { team: "Liverpool", wins: 18, draws: 6, losses: 4, gf: 60, ga: 30 },
            ],
            "la-liga": [
                { team: "Real Madrid", wins: 22, draws: 4, losses: 2, gf: 70, ga: 20 },
                { team: "Barcelona", wins: 20, draws: 5, losses: 3, gf: 65, ga: 25 },
            ],
            "serie-a": [
                { team: "Inter Milan", wins: 18, draws: 7, losses: 5, gf: 55, ga: 30 },
                { team: "AC Milan", wins: 17, draws: 8, losses: 5, gf: 50, ga: 35 },
            ],
            "bundesliga": [
                { team: "Bayern Munich", wins: 23, draws: 3, losses: 2, gf: 85, ga: 20 },
                { team: "Borussia Dortmund", wins: 19, draws: 6, losses: 3, gf: 70, ga: 35 },
            ],
            "ligue-1": [
                { team: "PSG", wins: 24, draws: 2, losses: 2, gf: 80, ga: 15 },
                { team: "Marseille", wins: 18, draws: 7, losses: 3, gf: 60, ga: 30 },
            ]
        };

        const tableBody = document.querySelector("#leagueTable tbody");
        const leagueSelector = document.getElementById("leagueSelector");

        function renderTable(league) {
            tableBody.innerHTML = "";
            league.forEach((team, index) => {
                const played = team.wins + team.draws + team.losses;
                const points = team.wins * 3 + team.draws;
                const gd = team.gf - team.ga;
                const row = `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${team.team}</td>
                        <td>${played}</td>
                        <td>${team.wins}</td>
                        <td>${team.draws}</td>
                        <td>${team.losses}</td>
                        <td>${points}</td>
                        <td>${team.gf}</td>
                        <td>${team.ga}</td>
                        <td>${gd}</td>
                        <td>
                            <button onclick="editRow(this)">Edit</button>
                        </td>
                    </tr>
                `;
                tableBody.insertAdjacentHTML("beforeend", row);
            });
            sortTableByPoints(document.getElementById("leagueTable"));
        }

        function switchLeague() {
            const selectedLeague = leagueSelector.value;
            renderTable(leagues[selectedLeague]);
        }

        function editRow(button) {
            const row = button.parentElement.parentElement;

            row.children[1].innerHTML = `<input type="text" value="${row.children[1].innerText}">`;
            row.children[3].innerHTML = `<input type="number" value="${row.children[3].innerText}" min="0">`;
            row.children[4].innerHTML = `<input type="number" value="${row.children[4].innerText}" min="0">`;
            row.children[5].innerHTML = `<input type="number" value="${row.children[5].innerText}" min="0">`;
            row.children[7].innerHTML = `<input type="number" value="${row.children[7].innerText}" min="0">`;
            row.children[8].innerHTML = `<input type="number" value="${row.children[8].innerText}" min="0">`;

            button.innerText = "Save";
            button.onclick = () => saveRow(button);
        }

        function saveRow(button) {
            const row = button.parentElement.parentElement;

            const team = row.children[1].querySelector("input").value.trim();
            const wins = parseInt(row.children[3].querySelector("input").value) || 0;
            const draws = parseInt(row.children[4].querySelector("input").value) || 0;
            const losses = parseInt(row.children[5].querySelector("input").value) || 0;
            const gf = parseInt(row.children[7].querySelector("input").value) || 0;
            const ga = parseInt(row.children[8].querySelector("input").value) || 0;

            const played = wins + draws + losses;
            const points = wins * 3 + draws;
            const gd = gf - ga;

            if (!team) {
                alert("Team name cannot be empty!");
                return;
            }

            row.children[1].innerText = team;
            row.children[2].innerText = played;
            row.children[3].innerText = wins;
            row.children[4].innerText = draws;
            row.children[5].innerText = losses;
            row.children[6].innerText = points;
            row.children[7].innerText = gf;
            row.children[8].innerText = ga;
            row.children[9].innerText = gd;

            sortTableByPoints(row.closest("table"));

            button.innerText = "Edit";
            button.onclick = () => editRow(button);
        }

        function sortTableByPoints(table) {
            const rows = Array.from(table.tBodies[0].rows);
            rows.sort((a, b) => {
                const pointsA = parseInt(a.cells[6].innerText, 10);
                const pointsB = parseInt(b.cells[6].innerText, 10);
                const gdA = parseInt(a.cells[9].innerText, 10);
                const gdB = parseInt(b.cells[9].innerText, 10);

                return pointsB - pointsA || gdB - gdA;
            });
            rows.forEach((row, index) => {
                row.cells[0].innerText = index + 1;
                table.tBodies[0].appendChild(row);
            });
        }

        function addTeam() {
            const teamName = document.getElementById("newTeamName").value.trim();
            const wins = parseInt(document.getElementById("newTeamWins").value) || 0;
            const draws = parseInt(document.getElementById("newTeamDraws").value) || 0;
            const losses = parseInt(document.getElementById("newTeamLosses").value) || 0;
            const gf = parseInt(document.getElementById("newTeamGF").value) || 0;
            const ga = parseInt(document.getElementById("newTeamGA").value) || 0;

            if (!teamName) {
                alert("Team name is required!");
                return;
            }

            const selectedLeague = leagueSelector.value;
            leagues[selectedLeague].push({ team: teamName, wins, draws, losses, gf, ga });

            renderTable(leagues[selectedLeague]);

            document.getElementById("newTeamName").value = "";
            document.getElementById("newTeamWins").value = "";
            document.getElementById("newTeamDraws").value = "";
            document.getElementById("newTeamLosses").value = "";
            document.getElementById("newTeamGF").value = "";
            document.getElementById("newTeamGA").value = "";
        }

        function goBack() {
            window.location.href = "index.html";
        }

        // Load initial league
        switchLeague();
    </script>
</body>
</html>
